jQuery(document).ready(function($){function css3GridSetWidth(id){};var items=1,autoplay=0,effect='scroll',easing='swing',duration=500,id;$(window).on('resize load',function(){$(".css3_grid_slider").each(function(){var self=$(this);var elementClasses=$(this).attr('class').split(' ');for(var i=0;i<elementClasses.length;i++){if(elementClasses[i].indexOf('id-')!=-1)
id=elementClasses[i].replace('id-','');if(elementClasses[i].indexOf('autoplay-')!=-1)
autoplay=elementClasses[i].replace('autoplay-','');if(elementClasses[i].indexOf('items-')!=-1)
items=elementClasses[i].replace('items-','');if(elementClasses[i].indexOf('scroll-')!=-1)
scroll=elementClasses[i].replace('scroll-','');if(elementClasses[i].indexOf('effect-')!=-1)
effect=elementClasses[i].replace('effect-','');if(elementClasses[i].indexOf('easing-')!=-1)
easing=elementClasses[i].replace('easing-','');if(elementClasses[i].indexOf('duration-')!=-1)
duration=elementClasses[i].replace('duration-','');if(elementClasses[i].indexOf('threshold-')!=-1)
threshold=elementClasses[i].replace('threshold-','')}
if(window.innerWidth>991)
numitems=4;if(window.innerWidth>767&&window.innerWidth<992)
numitems=3;if(window.innerWidth>479&&window.innerWidth<768){numitems=2;scroll=2}
if(window.innerWidth<480){numitems=2;scroll=1}
var carouselOptions={circular:(self.hasClass('circular')?!0:!1),infinite:(self.hasClass('infinite')?!0:!1),items:numitems,prev:{items:parseInt(scroll),button:$('#css3_grid_'+id+'_prev'),fx:effect,easing:easing,duration:parseInt(duration)},next:{items:parseInt(scroll),button:$('#css3_grid_'+id+'_next'),fx:effect,easing:easing,duration:parseInt(duration)},auto:{items:parseInt(scroll),play:(parseInt(autoplay)?!0:!1),fx:effect,easing:easing,duration:parseInt(duration)}};if(self.hasClass('ontouch')||self.hasClass('onmouse'))
carouselOptions.swipe={items:parseInt(scroll),onTouch:(self.hasClass('ontouch')?!0:!1),onMouse:(self.hasClass('onmouse')?!0:!1),options:{allowPageScroll:"none",threshold:parseInt(threshold)},fx:effect,easing:easing,duration:parseInt(duration)};if(self.hasClass('slidingPagination'))
carouselOptions.pagination={items:parseInt(scroll),container:$(".css3_grid_"+id+"_pagination"),fx:effect,easing:easing,duration:parseInt(duration)};$(this).carouFredSel(carouselOptions,{wrapper:{classname:'css3_grid_caroufredsel_wrapper',height:'variable',items:{height:'variable'}}});css3GridSetWidth(id)})});function windowResize(){$(".p_table_sliding").each(function(){css3GridSetWidth($(this).attr("id"))});$(".css3_grid_slider").trigger('configuration',['debug',!1,!0])}
if($(".css3_grid_slider").length){$(window).resize(windowResize);window.addEventListener('orientationchange',windowResize)}
$(".css3_grid_hidden_rows_control").click(function(event){event.preventDefault();var self=$(this);self.parent().find(".css3_grid_hidden_row").toggleClass("css3_grid_hide");$(this).children(".css3_grid_hidden_rows_control_expand_text").toggleClass("css3_grid_hide");$(this).children(".css3_grid_hidden_rows_control_collapse_text").toggleClass("css3_grid_hide");if(self.parent().hasClass("p_table_sliding")){var time=250;var animationInterval=setInterval(function(){time--;css3GridSetWidth(self.parent().attr("id"));if(time==0)
clearInterval(animationInterval)},1)}});function setPricingCycle(cycleID,urlHash){var tableId=cycleID.substring(0,cycleID.length-urlHash.length-1);var pricingTable=$("#"+tableId);var pricingCycle=pricingCycles[cycleID];var columns_count=pricingCycle.columns.prices.length;for(var i=0;i<columns_count;i++){pricingTable.find(".column_"+(i+1)+" .header_row_2 .css3_grid_vertical_align").html(pricingCycle.columns.prices[i].replace(/&#39;/g,"'"));if(typeof(pricingCycle.columns.button_urls[i])!="undefined"&&pricingCycle.columns.button_urls[i].length)
pricingTable.find(".column_"+(i+1)+" .footer_row .css3_grid_vertical_align a").attr("href",pricingCycle.columns.button_urls[i])}}
function setDefaultPricingCycles(){$("ul.pricing-cycle").each(function(index,elem){var $this=$(this);var temp=$this.find("a:first").attr("href").substr(1);var cycleIDs=[];for(var key in pricingCycles){if(pricingCycles.hasOwnProperty(key)){if(key.indexOf(temp)!=-1)
cycleIDs.push([key,temp]);if(key.indexOf(decodeURIComponent(temp))!=-1)
cycleIDs.push([key,decodeURIComponent(temp)])}}
$this.find("a:first").addClass("selected");cycleIDs.forEach(function(entry){setPricingCycle(entry[0],entry[1])})})}
function handleHashChange(){var hash=window.location.hash;if(hash.substr(0,7)=="#cycle-"){var temp=hash.substr(7);var cycleIDs=[];for(var key in pricingCycles){if(pricingCycles.hasOwnProperty(key)){if(key.indexOf(temp)!=-1)
cycleIDs.push([key,temp]);if(key.indexOf(decodeURIComponent(temp))!=-1)
cycleIDs.push([key,decodeURIComponent(temp)])}}
cycleIDs.forEach(function(entry){setPricingCycle(entry[0],entry[1]);var tableId=entry[0].substring(0,entry[0].length-entry[1].length-1);var link=$("#"+tableId+" ul.pricing-cycle li a[href='#"+entry[1]+"']");link.parents(".pricing-cycle-navigation").find("label").html(link.text())
link.addClass("selected").parent().siblings().find("a").removeClass("selected")})}}
setDefaultPricingCycles();if(typeof(window.location.hash)!="undefined")
handleHashChange();$(window).bind("hashchange",function(e){handleHashChange()});$("ul.pricing-cycle li a").on("click",function(event){event.preventDefault();var $this=$(this);var cycleID=$this.attr("href").substr(1);var sharpPos=(window.location.href.indexOf("#")!==-1?window.location.href.indexOf("#"):window.location.href.length);window.location.href=window.location.href.substr(0,sharpPos)+decodeURIComponent("#cycle-"+cycleID);$this.parent().parent().parent().addClass("css3_grid_hide")});$(".pricing-cycle-navigation").mouseover(function(){$(this).removeClass("css3_grid_hide")});function getEmptyRequiredFields(){var fields=[];$('.js-required').each(function(){var $field=$(this);if($field.val()==='')
fields.push($field.data("name"))});if(grecaptcha.getResponse()===''){fields.push("Google reCAPTCHA")}
return fields}
function sendDealerRequest(){var $form=$("#dealer-account-request");var emptyFields=getEmptyRequiredFields();if(emptyFields.length>0){var errMsg=$("#p-required");popUp(errMsg.data("title"),errMsg.data("msg")+"<br>"+emptyFields.join(", "));return}
var data=$form.serializeArray();$.post("/internal/inventory/inventory.php?cmd=addPendingDealer",data).done(function(data){var msgData=$("#p-ok");if(data==="OK"){$(':input','#dealer-account-request').not(':button, :submit, :reset, :hidden').val('').prop('checked',!1).prop('selected',!1)}else{if(data==="EXISTS"){msgData=$("#p-exists")}else{msgData=$("#p-error")}}
grecaptcha.reset();popUp(msgData.data("title"),msgData.data("msg"))}).fail(function(error){grecaptcha.reset();popUp("Error","Internal error. Please try again.")})}
$("#dealer-account-request").on("submit",function(e){e.preventDefault()});$("#submit-dealer-request").on("click",function(e){e.preventDefault();sendDealerRequest()});function popUp(title,msg){msg=processPopUpText(msg);var dialogObject=$("<div>",{class:"cart-notification-object"});var title=$("<div>",{class:"col-md-12 cart-notification-title"}).text(title);dialogObject.append(title);var itemsContainer=$("<div>",{class:"col-md-12",style:"margin-bottom: 15px;"}).append(msg);dialogObject.append(itemsContainer);var okButton=$("<div>",{class:"cart-notification-button cart-notification-button-ok"}).text("Ok").on("click",function(){dialogObject.dialog("close")});dialogObject.append(okButton);dialogObject.dialog({draggable:!1,resizable:!1,modal:!0,open:function(event,ui){$('.ui-widget-overlay').bind('click',function(){dialogObject.dialog('close')})}});$(".ui-dialog-titlebar").hide()}
function processPopUpText(text){return text.replace(/%dealer-login-url%/g,'<a href="/internal/dealers/login.php" style="color:#337ab7;">Click here to login</a>').replace(/%new-line%/g,"<br>")}})